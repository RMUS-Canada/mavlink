<?xml version="1.0"?>
<mavlink>
    <include>common.xml</include>
    <dialect>8</dialect>

    <enums>
        <enum name="MAV_CMD">
            <entry value="20000" name="MAV_CMD_RMUS_FAULT_CLEAR">
                <description>Clear a fault by ID</description>
                <param index="1">Fault ID</param>
            </entry>
            <entry value="20100" name="MAV_CMD_RMUS_SENSOR_START_CAPTURE">
                <description>Start sensor capture</description>
                <param index="1">Sensor ID</param>
            </entry>
            <entry value="20101" name="MAV_CMD_RMUS_SENSOR_STOP_CAPTURE">
                <description>Stop sensor capture</description>
                <param index="1">Sensor ID</param>
            </entry>
            <entry value="20102" name="MAV_CMD_RMUS_SENSOR_START_STREAM">
                <description>Start sensor stream</description>
                <param index="1">Sensor ID</param>
            </entry>
            <entry value="20103" name="MAV_CMD_RMUS_SENSOR_STOP_STREAM">
                <description>Stop sensor stream</description>
                <param index="1">Sensor ID</param>
            </entry>
        </enum>
        <enum name="MAV_TYPE">
            <entry value="50" name="MAV_TYPE_RADIATION_DETECTOR">
                <description>FlexSpec radiation detector</description>
            </entry>
            <entry value="51" name="MAV_TYPE_GAS_DETECTOR">
                <description>BlackLine G7c gas detector</description>
            </entry>
        </enum>
        <enum name="RMUS_RADIATION_DIRECTION">
            <entry value="0" name="RMUS_RADIATION_DIRECTION_NONE">
                <description>None</description>
            </entry>
            <entry value="1" name="RMUS_RADIATION_DIRECTION_LEFT">
                <description>Left</description>
            </entry>
            <entry value="2" name="RMUS_RADIATION_DIRECTION_RIGHT">
                <description>Right</description>
            </entry>
        </enum>
        <enum name="RMUS_RADIATION_THREAT_LEVEL">
            <entry value="0" name="RMUS_RADIATION_THREAT_LEVEL_NONE">
                <description>No threat</description>
            </entry>
            <entry value="1" name="RMUS_RADIATION_THREAT_LEVEL_NORM">
                <description>Normal</description>
            </entry>
            <entry value="2" name="RMUS_RADIATION_THREAT_LEVEL_MEDICAL">
                <description>Medical</description>
            </entry>
            <entry value="3" name="RMUS_RADIATION_THREAT_LEVEL_INDUSTRIAL">
                <description>Industrial</description>
            </entry>
            <entry value="4" name="RMUS_RADIATION_THREAT_LEVEL_SUSPECT">
                <description>Suspect</description>
            </entry>
            <entry value="5" name="RMUS_RADIATION_THREAT_LEVEL_THREAT">
                <description>Threat</description>
            </entry>
            <entry value="6" name="RMUS_RADIATION_THREAT_LEVEL_GAMMA">
                <description>Gamma</description>
            </entry>
            <entry value="7" name="RMUS_RADIATION_THREAT_LEVEL_NEUTRON">
                <description>Neutron</description>
            </entry>
        </enum>
        <enum name="RMUS_GAS_TYPE">
            <entry value="0" name="RMUS_GAS_TYPE_FRESH_AIR">
                <description>Fresh air</description>
            </entry>
            <entry value="1" name="RMUS_GAS_TYPE_H2S">
                <description>H2S</description>
            </entry>
            <entry value="2" name="RMUS_GAS_TYPE_CO">
                <description>CO</description>
            </entry>
            <entry value="3" name="RMUS_GAS_TYPE_O2">
                <description>O2</description>
            </entry>
            <entry value="4" name="RMUS_GAS_TYPE_CO2">
                <description>CO2</description>
            </entry>
            <entry value="5" name="RMUS_GAS_TYPE_LEL">
                <description>LEL</description>
            </entry>
            <entry value="6" name="RMUS_GAS_TYPE_N2">
                <description>N2</description>
            </entry>
            <entry value="7" name="RMUS_GAS_TYPE_NH3">
                <description>NH3</description>
            </entry>
            <entry value="8" name="RMUS_GAS_TYPE_SO2">
                <description>SO2</description>
            </entry>
            <entry value="9" name="RMUS_GAS_TYPE_CL2">
                <description>Cl2</description>
            </entry>
            <entry value="10" name="RMUS_GAS_TYPE_VOC_PPM">
                <description>VOC (PPM)</description>
            </entry>
            <entry value="11" name="RMUS_GAS_TYPE_HCN">
                <description>HCN</description>
            </entry>
            <entry value="12" name="RMUS_GAS_TYPE_H2">
                <description>H2</description>
            </entry>
            <entry value="13" name="RMUS_GAS_TYPE_CLO2">
                <description>ClO2</description>
            </entry>
            <entry value="14" name="RMUS_GAS_TYPE_O3">
                <description>O3</description>
            </entry>
            <entry value="15" name="RMUS_GAS_TYPE_VOC_PPB">
                <description>VOC (PPB)</description>
            </entry>
            <entry value="16" name="RMUS_GAS_TYPE_NO2">
                <description>NO2</description>
            </entry>
            <entry value="17" name="RMUS_GAS_TYPE_NN_LEL">
                <description>NN-LEL</description>
            </entry>
            <entry value="18" name="RMUS_GAS_TYPE_HF">
                <description>HF</description>
            </entry>
        </enum>
        <enum name="RMUS_GAS_UNIT_TYPE">
            <entry value="0" name="RMUS_GAS_UNIT_TYPE_PPM">
                <description>PPM</description>
            </entry>
            <entry value="1" name="RMUS_GAS_UNIT_TYPE_PERCENT_VOL">
                <description>Percent volume</description>
            </entry>
            <entry value="2" name="RMUS_GAS_UNIT_TYPE_PERCENT_LEL">
                <description>Percent LEL</description>
            </entry>
            <entry value="3" name="RMUS_GAS_UNIT_TYPE_MG_M3">
                <description>mg/mÂ³</description>
            </entry>
            <entry value="4" name="RMUS_GAS_UNIT_TYPE_DEFAULT">
                <description>Default</description>
            </entry>
        </enum>
        <enum name="RMUS_GAS_SENSOR_STATUS">
            <entry value="1" name="RMUS_GAS_SENSOR_STATUS_UNDER_LIMIT_MASK">
                <description>Under limit mask</description>
            </entry>
            <entry value="2" name="RMUS_GAS_SENSOR_STATUS_LOW_GAS_ALARM_MASK">
                <description>Low gas alarm mask</description>
            </entry>
            <entry value="4" name="RMUS_GAS_SENSOR_STATUS_LOW_GAS_ALERT_MASK">
                <description>Low gas alert mask</description>
            </entry>
            <entry value="8" name="RMUS_GAS_SENSOR_STATUS_GAS_ALARM_MASK">
                <description>Gas alarm mask</description>
            </entry>
            <entry value="16" name="RMUS_GAS_SENSOR_STATUS_GAS_ALERT_MASK">
                <description>Gas alert mask</description>
            </entry>
            <entry value="32" name="RMUS_GAS_SENSOR_STATUS_TWA_ALERT_MASK">
                <description>TWA alert mask</description>
            </entry>
            <entry value="64" name="RMUS_GAS_SENSOR_STATUS_STEL_ALERT_MASK">
                <description>STEL alert mask</description>
            </entry>
            <entry value="128" name="RMUS_GAS_SENSOR_STATUS_OVER_LIMIT_MASK">
                <description>Over limit mask</description>
            </entry>
            <entry value="1024" name="RMUS_GAS_SENSOR_STATUS_CALIB_OVERDUE_MASK">
                <description>Calibration overdue mask</description>
            </entry>
            <entry value="2048" name="RMUS_GAS_SENSOR_STATUS_ATTACHED_MASK">
                <description>Attached mask</description>
            </entry>
            <entry value="536870912" name="RMUS_GAS_SENSOR_STATUS_ERROR_MASK">
                <description>Error mask</description>
            </entry>
            <entry value="1073741824" name="RMUS_GAS_SENSOR_STATUS_UNRESPONSIVE_ERROR_MASK">
                <description>Unresponsive error mask</description>
            </entry>
            <entry value="2147483648" name="RMUS_GAS_SENSOR_STATUS_DISABLED_ERROR_MASK">
                <description>Disabled error mask</description>
            </entry>
        </enum>

    </enums>

    <messages>
        <message id="20000" name="RMUS_FAULT">
            <description>Fault message</description>
            <field type="uint32_t" name="fault_id">Fault ID</field>
            <field type="uint8_t" name="fault_severity" enum="MAV_SEVERITY">Fault severity</field>
            <field type="uint32_t" name="fault_timestamp">Fault timestamp</field>
            <field type="char[100]" name="fault_description">Fault description</field>
        </message>

        <message id="20100" name="RMUS_RADIATION_DOSE_RATE">
            <description>Radiation dose rate</description>
            <field type="uint64_t" name="timestamp">Timestamp</field>
            <field type="uint32_t" name="dose_rate">Dose rate</field>
            <field type="uint8_t" name="dose_rate_alarm" enum="MAV_BOOL">Dose rate alarm</field>
            <field type="uint16_t" name="angle">Angle (centi-degrees)</field>
            <field type="uint32_t" name="angle_uncertainty">Angle uncertainty (degrees)</field>
        </message>

        <message id="20101" name="RMUS_RADIATION_EVENT">
            <description>Radiation event</description>
            <field type="uint64_t" name="timestamp">Timestamp</field>
            <field type="uint8_t" name="overall_threat_level" enum="RMUS_RADIATION_THREAT_LEVEL">Overall threat level</field>
            <field type="int32_t" name="latitude">Latitude degE5</field>
            <field type="int32_t" name="longitude">Longitude degE5</field>
            <field type="uint16_t" name="event_id">Event ID</field>
            <field type="uint8_t" name="direction" enum="RMUS_RADIATION_DIRECTION">Direction</field>
            <field type="char[20]" name="isotope">Isotope</field>
            <field type="uint8_t" name="threat_level" enum="RMUS_RADIATION_THREAT_LEVEL">Threat level</field>
            <field type="uint8_t" name="confidence">Confidence</field>
        </message>

        <message id="20103" name="RMUS_GAS_EVENT">
            <description>Gas sensor event</description>
            <field type="uint64_t" name="timestamp">Timestamp in seconds since Jan 1, 1970</field>
            <field type="float" name="temperature">Sensor temperature in degrees Celsius</field>
            <field type="float" name="pressure">Sensor pressure in Hectopascals (hPa)</field>
            <field type="float" name="humidity">Sensor humidity in %</field>
            <field type="float" name="pump_flow_rate">Flow rate</field>
            <field type="uint32_t" name="slot_status">Status mask for the gas slot (RMUS_GAS_SENSOR_STATUS)</field>
            <field type="uint8_t" name="gas_type" enum="RMUS_GAS_TYPE">Gas type identifier</field>
            <field type="float" name="reading">Current sensor reading</field>
            <field type="uint8_t" name="units" enum="RMUS_GAS_UNIT_TYPE">Units of the reading</field>
        </message>

    </messages>
</mavlink>